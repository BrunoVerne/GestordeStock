<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Spring.FX.controllers.VentaDetallesController"
            styleClass="dashboard-root">

    <center>
        <VBox alignment="TOP_CENTER">

            <!-- Contenedor general -->
            <VBox styleClass="dashboard-container">

                <!-- Card principal -->
                <VBox styleClass="dashboard-card" spacing="20">

                    <!-- Header -->
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label text="Detalle de la venta"
                               styleClass="dashboard-title"/>
                        <Label fx:id="lblId"
                               styleClass="dashboard-subtitle"/>
                    </HBox>

                    <!-- Resumen en bloque -->
                    <VBox spacing="20"
                          style="-fx-background-color: #f8fafc;
                                 -fx-padding: 24;
                                 -fx-background-radius: 14;">

                        <!-- Fila 1 -->
                        <GridPane hgap="40" vgap="10">

                            <columnConstraints>
                                <ColumnConstraints minWidth="120"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints minWidth="120"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                            </columnConstraints>

                            <Label text="Fecha"
                                   styleClass="dashboard-subtitle"/>
                            <Label fx:id="lblFecha"
                                   GridPane.columnIndex="1"/>

                            <Label text="Usuario"
                                   styleClass="dashboard-subtitle"
                                   GridPane.columnIndex="2"/>
                            <Label fx:id="lblUsuario"
                                   GridPane.columnIndex="3"/>
                        </GridPane>

                        <Separator/>

                        <!-- Fila 2 (datos clave) -->
                        <GridPane hgap="40" vgap="10">

                            <columnConstraints>
                                <ColumnConstraints minWidth="120"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints minWidth="120"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                            </columnConstraints>

                            <Label text="Total"
                                   styleClass="dashboard-subtitle"/>
                            <Label fx:id="lblTotal"
                                   styleClass="dashboard-title"
                                   GridPane.columnIndex="1"/>

                            <Label text="Productos"
                                   styleClass="dashboard-subtitle"
                                   GridPane.columnIndex="2"/>
                            <Label fx:id="lblTotalProductos"
                                   GridPane.columnIndex="3"/>
                        </GridPane>

                    </VBox>

                    <!-- Tabla -->
                    <Label text="Productos vendidos"
                           styleClass="dashboard-subtitle"/>

                    <TableView fx:id="tableProductos"
                               VBox.vgrow="ALWAYS"
                               styleClass="dashboard-table">

                        <columns>
                            <TableColumn fx:id="colProducto"
                                         text="Producto"
                                         prefWidth="360"/>
                            <TableColumn fx:id="colCantidad"
                                         text="Cantidad"
                                         prefWidth="160"/>
                            <TableColumn fx:id="colPrecioUnitario"
                                         text="Precio Unitario"
                                         prefWidth="220"/>
                            <TableColumn fx:id="colSubtotal"
                                         text="Subtotal"
                                         prefWidth="220"/>
                        </columns>
                    </TableView>

                    <!-- Acciones -->
                    <HBox spacing="16" alignment="CENTER">
                        <Button text="Cerrar"
                                onAction="#handleCerrar"
                                styleClass="button-secondary"/>
                    </HBox>
                </VBox>
            </VBox>
        </VBox>
    </center>

    <bottom>
        <Label style="-fx-padding: 10;"/>
    </bottom>

</BorderPane>
