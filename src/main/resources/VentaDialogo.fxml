<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Spring.FX.controllers.VentaDialogoController"
            styleClass="dashboard-root"
            prefWidth="900"
            prefHeight="600">

    <center>
        <VBox alignment="TOP_CENTER">

            <!-- Contenedor general -->
            <VBox styleClass="dashboard-container">

                <!-- Card principal -->
                <VBox styleClass="dashboard-card" spacing="20">

                    <!-- Header -->
                    <VBox spacing="8">
                        <Label text="Nueva Venta" styleClass="dashboard-title"/>
                    </VBox>

                    <!-- Formulario -->
                    <GridPane hgap="12" vgap="12">
                        <columnConstraints>
                            <ColumnConstraints minWidth="80"/>
                            <ColumnConstraints minWidth="320"/>
                            <ColumnConstraints minWidth="90"/>
                            <ColumnConstraints minWidth="90"/>
                        </columnConstraints>

                        <Label text="Producto" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <ComboBox fx:id="productoComboBox"
                                  prefWidth="320"
                                  GridPane.rowIndex="0" GridPane.columnIndex="1"
                                  styleClass="combo-box"/>

                        <Label text="Cantidad" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                        <Spinner fx:id="cantidadSpinner"
                                 prefWidth="90"
                                 GridPane.rowIndex="0" GridPane.columnIndex="3"
                                 styleClass="spinner"/>

                        <Button fx:id="agregarButton"
                                text="Agregar"
                                onAction="#agregarProducto"
                                styleClass="button-primary"
                                GridPane.rowIndex="0"
                                GridPane.columnIndex="4"/>
                    </GridPane>

                    <!-- Lista -->
                    <Label text="Productos en la venta" styleClass="dashboard-subtitle"/>
                    <ListView fx:id="productosListView" VBox.vgrow="ALWAYS" prefHeight="300" styleClass="dashboard-table"/>

                    <!-- Total + remover -->
                    <HBox spacing="20" alignment="CENTER_RIGHT">
                        <Label fx:id="totalLabel" text="Total: $0.00" styleClass="dashboard-title"/>
                        <Button fx:id="removerButton"
                                text="Remover seleccionado"
                                onAction="#removerProducto"
                                styleClass="button-danger"/>
                    </HBox>

                    <!-- Acciones -->
                    <HBox spacing="12" alignment="CENTER_RIGHT">
                        <Button fx:id="cancelarButton"
                                text="Cancelar"
                                onAction="#cancelar"
                                styleClass="button-secondary"/>
                        <Button fx:id="crearVentaButton"
                                text="Crear Venta"
                                onAction="#crearVenta"
                                styleClass="button-primary"/>
                    </HBox>

                </VBox>

            </VBox>
        </VBox>
    </center>

</BorderPane>
